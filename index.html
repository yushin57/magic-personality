<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è­˜äººé­”æ³•å¿ƒç†æ¸¬é©—</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #eaf6ff, #ffffff);
      padding: 2rem;
      max-width: 720px;
      margin: auto;
      color: #333;
    }

    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 2rem;
    }

    .question {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      font-weight: bold;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .option {
      flex: 1 1 45%;
      padding: 0.75rem 1rem;
      background: #ffffff;
      border: 2px solid #ccc;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s ease-in-out;
    }

    .option:hover {
      border-color: #4682b4;
      background-color: #f0f8ff;
    }

    .option.selected {
      background: #cce5ff;
      border-color: #4682b4;
      font-weight: bold;
    }

    button {
      display: inline-block;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      background: #4682b4;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 1rem;
    }

    button:hover {
      background: #315f86;
    }

    .result {
      background: #f2faff;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    .result h2, .result h3 {
      color: #2c3e50;
      margin-top: 1rem;
    }

    .result p {
      line-height: 1.6;
      margin: 0.3rem 0;
    }

    .result strong {
      color: #004080;
    }

    .result table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 2rem;
    }

    .result th, .result td {
      border: 1px solid #ccc;
      padding: 0.75rem;
      text-align: center;
      font-size: 1rem;
    }

    .result th {
      background: #dceeff;
      color: #004080;
      font-weight: bold;
    }

    .result .section-title {
      font-size: 1.25rem;
      color: #2c3e50;
      font-weight: bold;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      border-left: 6px solid #5ba4e5;
      padding-left: 0.5rem;
    }

    .result tr:nth-child(2) td {
      background: #f8fbff;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
    <h1>è­˜äººé­”æ³•å¿ƒç†æ¸¬é©—</h1>
    <p>æ¢ç´¢ä½ å…§åœ¨çš„ç‰¹è³ªèˆ‡æ½›èƒ½ï¼</p>
    <p>é€™æ˜¯ä¸€ä»½æ·±å…¥äº†è§£è‡ªæˆ‘é¢¨æ ¼çš„å¿ƒç†æ¸¬é©—ï¼Œé€é 5 çµ„ç›´è¦ºå¼é¸æ“‡ï¼Œç™¼æ˜ä½ åœ¨äººéš›äº’å‹•ã€æ€è€ƒæ–¹å¼ã€æƒ…æ„Ÿåæ‡‰ä¸­çš„æ½›è—å‚¾å‘ã€‚</p>
    <p>ğŸ§  å…± 5 é¡Œï¼Œæ¯é¡Œ 8 é¸ 4 â†’ã€€4 é¸ 2 â†’ã€€2 é¸ 1ï¼Œç´„ 3ï½5 åˆ†é˜å®Œæˆã€‚</p>
  <div id="quiz"></div>
  <div id="result" class="result hidden"></div>

  <script>
    const sets = [
      {
        title: "é¡Œçµ„ä¸€",
        options: [
          { label: "ç¨ç•¶ä¸€é¢", trait: "æœæ–·" },
          { label: "å”èª¿æ”¯æ´", trait: "æŒæ§" },
          { label: "ç ”åˆ¤è³‡è¨Š", trait: "åˆ†æ" },
          { label: "æŒ‰éƒ¨å°±ç­", trait: "äº‹å‹™" },
          { label: "å‰µæ„æ€è€ƒ", trait: "å‰µæ„" },
          { label: "å‚¾è½ä»–äºº", trait: "æ„Ÿè¦º" },
          { label: "è¦åŠƒé æ™¯", trait: "ç†æƒ³" },
          { label: "å”åŠ©ä»–äºº", trait: "äººéš›" }
        ]
      },
      {
        title: "é¡Œçµ„äºŒ",
        options: [
          { label: "æ˜å¿«æ±ºç­–", trait: "æœæ–·" },
          { label: "åŸ·è¡Œè¨ˆç•«", trait: "æŒæ§" },
          { label: "ç ”æå°ç­–", trait: "åˆ†æ" },
          { label: "äº•ç„¶æœ‰åº", trait: "äº‹å‹™" },
          { label: "ç™¼æ®æƒ³åƒ", trait: "å‰µæ„" },
          { label: "æ„Ÿæ€§æº«é¦¨", trait: "æ„Ÿè¦º" },
          { label: "ä¸å—ç´„æŸ", trait: "ç†æƒ³" },
          { label: "åœ˜éšŠåˆä½œ", trait: "äººéš›" }
        ]
      },
      {
        title: "é¡Œçµ„ä¸‰",
        options: [
          { label: "å¯¦äº‹æ±‚æ˜¯", trait: "æœæ–·" },
          { label: "ç¾æ³æŒæ¡", trait: "æŒæ§" },
          { label: "é‚è¼¯åˆ†æ", trait: "åˆ†æ" },
          { label: "è³‡è¨Šå½™æ•´", trait: "äº‹å‹™" },
          { label: "å‰µä½œç ”ç™¼", trait: "å‰µæ„" },
          { label: "åŒç†æƒ…æ„Ÿ", trait: "æ„Ÿè¦º" },
          { label: "å½ˆæ€§å¤šå…ƒ", trait: "ç†æƒ³" },
          { label: "äººéš›ç¶“ç‡Ÿ", trait: "äººéš›" }
        ]
      },
      {
        title: "é¡Œçµ„å››",
        options: [
          { label: "é‡è¦–æˆæ•ˆ", trait: "æœæ–·" },
          { label: "å»ºç«‹ç¨‹åº", trait: "æŒæ§" },
          { label: "æ¨ç†æ€è€ƒ", trait: "åˆ†æ" },
          { label: "è¡Œæ”¿è™•ç†", trait: "äº‹å‹™" },
          { label: "ç¨ç‰¹å‰µæ–°", trait: "å‰µæ„" },
          { label: "æ”¯æŒä»–äºº", trait: "æ„Ÿè¦º" },
          { label: "æ¨éŠ·æƒ³æ³•", trait: "ç†æƒ³" },
          { label: "æ¥è§¸äººç¾¤", trait: "äººéš›" }
        ]
      },
      {
        title: "é¡Œçµ„äº”",
        options: [
          { label: "å½±éŸ¿ä»–äºº", trait: "æœæ–·" },
          { label: "çµ„ç¹”ç®¡ç†", trait: "æŒæ§" },
          { label: "è¿½æ ¹ç©¶æŸ¢", trait: "åˆ†æ" },
          { label: "ç´°ç¯€è™•ç†", trait: "äº‹å‹™" },
          { label: "å¯¦é©—å˜—è©¦", trait: "å‰µæ„" },
          { label: "ç‡Ÿé€ æ°£æ°›", trait: "æ„Ÿè¦º" },
          { label: "é–‹ç™¼å¸‚å ´", trait: "ç†æƒ³" },
          { label: "å”èª¿è¡çª", trait: "äººéš›" }
        ]
      }
    ];

    let currentSet = 0;
    let currentStep = 0;
    let previousSelection = [];
    let scores = {};

    function renderStep() {
      const quiz = document.getElementById("quiz");
      quiz.innerHTML = "";

      const set = sets[currentSet];
      const stepPrompt = [
        `(${set.title}) è«‹å¾ä¸‹åˆ— 8 é …ä¸­é¸å‡ºæœ€ç¬¦åˆä½ çš„ 4 é …ç‰¹è³ªï¼š`,
        `(${set.title}) è«‹å¾å‰›å‰›é¸çš„ 4 é …ä¸­é¸å‡ºä½ æœ€é‡è¦–çš„ 2 é …ï¼š`,
        `(${set.title}) è«‹å¾å‰›å‰›çš„ 2 é …ä¸­é¸å‡ºæœ€èƒ½ä»£è¡¨ä½ çš„é‚£ä¸€é …ï¼š`
      ];

      const stepMax = [4, 2, 1];
      const stepType = ["multi", "multi", "single"];
      const stepPoints = [1, 2, 2];

      const prompt = document.createElement("div");
      prompt.className = "question";
      prompt.innerText = stepPrompt[currentStep];
      quiz.appendChild(prompt);

      const optionsDiv = document.createElement("div");
      optionsDiv.className = "options";
      const options = currentStep === 0 ? set.options : previousSelection;

      options.forEach(opt => {
        const btn = document.createElement("div");
        btn.className = "option";
        btn.innerText = opt.label;
        btn.onclick = () => {
          if (stepType[currentStep] === "multi") {
            btn.classList.toggle("selected");
            const selected = optionsDiv.querySelectorAll(".option.selected");
            if (selected.length > stepMax[currentStep]) {
              btn.classList.remove("selected");
            }
          } else {
            optionsDiv.querySelectorAll(".option").forEach(b => b.classList.remove("selected"));
            btn.classList.add("selected");
          }
        };
        optionsDiv.appendChild(btn);
      });
      quiz.appendChild(optionsDiv);

      const nextBtn = document.createElement("button");
      nextBtn.innerText = currentSet === sets.length - 1 && currentStep === 2 ? "çœ‹çµæœ" : "ä¸‹ä¸€æ­¥";
      nextBtn.onclick = () => {
        const selected = optionsDiv.querySelectorAll(".option.selected");
        if (selected.length !== stepMax[currentStep]) {
          alert(`è«‹é¸æ“‡ ${stepMax[currentStep]} é …`);
          return;
        }
        const selections = Array.from(selected).map(el => el.innerText);
        const resultOptions = options.filter(o => selections.includes(o.label));
        resultOptions.forEach(opt => {
          scores[opt.trait] = (scores[opt.trait] || 0) + stepPoints[currentStep];
        });
        previousSelection = resultOptions;

        if (currentStep < 2) {
          currentStep++;
        } else {
          currentStep = 0;
          currentSet++;
        }

        if (currentSet < sets.length) {
          renderStep();
        } else {
          showResult();
        }
      };
      quiz.appendChild(nextBtn);
    }

    function showResult() {
      document.getElementById("quiz").classList.add("hidden");
      const resultDiv = document.getElementById("result");
      resultDiv.classList.remove("hidden");
      resultDiv.innerHTML = "<h2>æ¸¬é©—çµæœ</h2>";

      const sum = traits => traits.reduce((acc, t) => acc + (scores[t] || 0), 0);

      const extro = sum(["æœæ–·", "æŒæ§", "ç†æƒ³", "äººéš›"]);
      const intro = sum(["åˆ†æ", "äº‹å‹™", "å‰µæ„", "æ„Ÿè¦º"]);
      const rational = sum(["æœæ–·", "åˆ†æ", "æŒæ§", "äº‹å‹™"]);
      const emotional = sum(["å‰µæ„", "æ„Ÿè¦º", "ç†æƒ³", "äººéš›"]);
      const action = sum(["æŒæ§", "äº‹å‹™", "æ„Ÿè¦º", "äººéš›"]);
      const thinking = sum(["æœæ–·", "åˆ†æ", "å‰µæ„", "ç†æƒ³"]);

      const logic = sum(["æœæ–·", "åˆ†æ"]);
      const pioneer = sum(["å‰µæ„", "ç†æƒ³"]);
      const organizer = sum(["æŒæ§", "äº‹å‹™"]);
      const emotion = sum(["æ„Ÿè¦º", "äººéš›"]);

      resultDiv.innerHTML = `
        <h2>æ¸¬é©—çµæœ</h2>
        <div class="section-title">å£¹ã€å…«ç¨®é¢¨æ ¼é¡å‹åˆ†æä¸€è¦½è¡¨</div>
        <table>
          <tr>
          <th>æœæ–·</th><th>åˆ†æ</th><th>å‰µæ„</th><th>ç†æƒ³</th>
          </tr>
        <tr>
        <td>${scores["æœæ–·"] || 0}</td><td>${scores["åˆ†æ"] || 0}</td><td>${scores["å‰µæ„"] || 0}</td><td>${scores["ç†æƒ³"] || 0}</td>
        </tr>
        <tr>
        <th>æŒæ§</th><th>äº‹å‹™</th><th>æ„Ÿè¦º</th><th>äººéš›</th>
        </tr>
        <tr>
      <td>${scores["æŒæ§"] || 0}</td><td>${scores["äº‹å‹™"] || 0}</td><td>${scores["æ„Ÿè¦º"] || 0}</td><td>${scores["äººéš›"] || 0}</td>
  </tr>
</table>

        <div class="section-title">è²³ã€ä¸‰ç¨®é¢¨æ ¼ç‰¹è³ªåˆ†æä¸€è¦½è¡¨</div>
        <table>
          <tr><th>å¤–å‘ vs å…§å‘</th><th>ç†æ€§ vs æ„Ÿæ€§</th><th>è¡Œå‹• vs æ€è€ƒ</th></tr>
          <tr>
            <td>${extro} vs ${intro}</td>
            <td>${rational} vs ${emotional}</td>
            <td>${action} vs ${thinking}</td>
          </tr>
        </table>

        <div class="section-title">åƒã€å››ç¨®é¢¨æ ¼é¡å‹åˆ†æä¸€è¦½è¡¨</div>
        <table>
          <tr><th>ç†æ™º</th><th>é–‹å‰µ</th><th>çµ„ç¹”</th><th>æƒ…æ„Ÿ</th></tr>
          <tr>
            <td>${logic}</td><td>${pioneer}</td><td>${organizer}</td><td>${emotion}</td>
          </tr>
        </table>
      `;
    }
    renderStep();
  </script>
</body>
</html>
